<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="quickplay.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiplayer - Wordhunt.io</title>
    <link rel="stylesheet" href="multiplayer.css">
</head>
<body>

    <a href="titlescreen.html" class="back-button">← Back</a>
    
    <div class="main-header">
        Multiplayer
    </div>
       <div class="game-container">
       <script src="/game/prototype.js" type="module"></script>
    </div>
    <div id="score">Points: 0 Words: 0</div>
    <div id="status"></div>
    
    <div class="multiplayer-container">
        <div class="game-section">
            <canvas id="gameCanvas" width="500" height="500"></canvas>
        </div>
        
        <div class="players-section">
            <div class="header">Players</div>
            
            <div class="player-card current-player">
                <div class="player-name">You</div>
                <div class="player-score" id="yourScore">Points: 0</div>
                <div class="player-words" id="yourWords">Words: 0</div>
            </div>
            
            <div class="player-card" id="opponent1">
                <div class="player-name">Player 2</div>
                <div class="player-score">Points: 0</div>
                <div class="player-words">Words: 0</div>
            </div>
            
            <div class="player-card" id="opponent2" style="display: none;">
                <div class="player-name">Player 3</div>
                <div class="player-score">Points: 0</div>
                <div class="player-words">Words: 0</div>
            </div>
            
            <div class="player-card" id="opponent3" style="display: none;">
                <div class="player-name">Player 4</div>
                <div class="player-score">Points: 0</div>
                <div class="player-words">Words: 0</div>
            </div>
        </div>
    </div>
    
    <script>
        // Mock multiplayer functionality for demonstration
        let players = [
            { name: "You", score: 0, words: 0 },
            { name: "Player 2", score: 0, words: 0 },
            { name: "Player 3", score: 0, words: 0 },
            { name: "Player 4", score: 0, words: 0 }
        ];
        
        // Mock score updates
        function simulateScoreUpdates() {
            setInterval(() => {
                // Random opponent score updates
                const randomPlayer = Math.floor(Math.random() * 4);
                if (randomPlayer > 0 && Math.random() > 0.7) {
                    players[randomPlayer].score += Math.floor(Math.random() * 10) + 1;
                    players[randomPlayer].words += 1;
                    updatePlayerDisplay(randomPlayer);
                }
            }, 3000);
        }
        
        function updatePlayerDisplay(playerIndex) {
            if (playerIndex === 0) {
                document.getElementById('yourScore').textContent = `Points: ${players[0].score}`;
                document.getElementById('yourWords').textContent = `Words: ${players[0].words}`;
            } else {
                const playerCard = document.getElementById(`opponent${playerIndex}`);
                if (playerCard && playerCard.style.display !== 'none') {
                    const scoreElement = playerCard.querySelector('.player-score');
                    const wordsElement = playerCard.querySelector('.player-words');
                    scoreElement.textContent = `Points: ${players[playerIndex].score}`;
                    wordsElement.textContent = `Words: ${players[playerIndex].words}`;
                }
            }
        }
        
        // Connection status simulation
        function simulateConnection() {
            const statusElement = document.getElementById('connectionStatus');
            let connected = true;
            
            setInterval(() => {
                if (Math.random() > 0.95) { // 5% chance of connection issue
                    connected = !connected;
                    statusElement.textContent = connected ? 'Connected' : 'Reconnecting...';
                    statusElement.className = connected ? 'connection-status' : 'connection-status disconnected';
                }
            }, 2000);
        }
        
        // Initialize
        simulateScoreUpdates();
        simulateConnection();
        
        // Show/hide players based on room size (you can modify this)
        const roomSize = 2; // Change this to show more players
        for (let i = 2; i < 4; i++) {
            if (i < roomSize) {
                document.getElementById(`opponent${i}`).style.display = 'block';
            }
        }
        
        // You can load the actual game here
        // <script type="module" src="../game/prototype.js"></script>
    </script>
</body>
</html>
